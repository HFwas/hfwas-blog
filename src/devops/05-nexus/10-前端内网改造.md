---
icon: pen-to-square
date: 2024-04-16
order: 8
category:
  - nexus
tag:
  - nexus
---
# Nexus操作-前端项目内网改造

## 改造步骤
- 首先判断项目路径下是否有.bashrc文件，没有的话新建
  - 内容填充registry=内网前端依赖库地址
- 判断项目路径是否有package-lock.json或者yarn.lock文件
  - 将package-lock.json文件当中的依赖前缀全文替换为内网的前端依赖库地址，
- 上传代码库。
- 重新跑流水线即可，这时候会拉取内网的前端依赖

 ## 问题点
- 流水线报错依赖找不到，
  - 检查依赖路径是否全部替换为内网依赖库地址，需要注意的是有一个repository路径
- 显示对应的版本依赖找不到
  - 如果开发人员是才在本地生成的package-lock.json文件，那么会使用外网最新的依赖版本，需要执行更新依赖版本脚本，更新当前依赖的版本列表。
- 
